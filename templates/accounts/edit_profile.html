{% extends 'component/authenticatedbase.html' %}

{% block title %}Edit Profile{% endblock %}

{% block content %}
<div class="max-w-3xl mx-auto bg-white p-8 rounded-lg shadow-md mt-8">
    <h1 class="text-3xl font-bold text-gray-800 mb-6">Edit Profile</h1>
    <form method="post" enctype="multipart/form-data" class="space-y-8">
        {% csrf_token %}

        <!-- User Information Section -->
        <section>
            <h2 class="text-xl font-semibold text-gray-700 mb-4">User Information</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- First Name -->
                <div>
                    <label for="id_first_name" class="block text-sm font-medium text-gray-700">First Name</label>
                    {{ user_form.first_name }}
                </div>
                <!-- Last Name -->
                <div>
                    <label for="id_last_name" class="block text-sm font-medium text-gray-700">Last Name</label>
                    {{ user_form.last_name }}
                </div>
                <!-- Username -->
                <div>
                    <label for="id_username" class="block text-sm font-medium text-gray-700">Username</label>
                    {{ user_form.username }}
                </div>
                <!-- Email -->
                <div>
                    <label for="id_email" class="block text-sm font-medium text-gray-700">Email</label>
                    {{ user_form.email }}
                </div>
            </div>
        </section>

        <!-- Profile Information Section -->
        <section>
            <h2 class="text-xl font-semibold text-gray-700 mb-4">Profile Information</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <label for="id_profile_picture" class="block text-sm font-medium text-gray-700">Profile Picture</label>
                    {{ profile_form.profile_picture }}
                    {% if user.profile.profile_picture %}
                    <div class="mt-3">
                        <img src="{{ user.profile.profile_picture.url }}" alt="Current Profile Picture" 
                             class="w-24 h-24 rounded-full border border-gray-300 shadow-md">
                        <p class="text-sm text-gray-500 mt-2">Your current profile picture.</p>
                    </div>
                    {% endif %}
                </div>
                <div>
                    <label for="id_birthdate" class="block text-sm font-medium text-gray-700">Birthdate</label>
                    {{ profile_form.birthdate }}
                </div>
                <div>
                    <label for="id_phone_number" class="block text-sm font-medium text-gray-700">Phone Number</label>
                    {{ profile_form.phone_number }}
                </div>
            </div>
        </section>

        <!-- Submit Button -->
        <div class="text-right">
            <button type="submit" 
                    class="px-6 py-3 bg-indigo-600 text-white font-medium text-sm rounded-lg hover:bg-indigo-700 transition">
                Save Changes
            </button>
        </div>
    </form>
</div>
{% endblock %}
